{
 "add_total_row": 1,
 "columns": [],
 "creation": "2018-12-20 10:01:49.184317",
 "disable_prepared_report": 0,
 "disabled": 0,
 "docstatus": 0,
 "doctype": "Report",
 "filters": [],
 "idx": 0,
 "is_standard": "Yes",
 "modified": "2023-06-12 10:28:33.838698",
 "modified_by": "Administrator",
 "module": "Clinic",
 "name": "Appointment Analytics",
 "owner": "Administrator",
 "prepared_report": 0,
 "query": "select \r\nClinic AS 'Clinic:Data:150',\r\nDoctor AS 'Doctor:Data:150',\r\nStatus as 'Status:Data:100',\r\ncount(CANAME) AS '\u0639\u062f\u062f:Int:100',\r\nsum(T.Billed) as 'Billed:Int:100',\r\nsum(T.partially) as 'partially Billed:Int:100'\r\nfrom\r\n(select \r\nPA.name as 'CANAME',\r\nPA.clinic as 'Clinic',\r\nPA.doctor_name as 'Doctor',\r\nPA.status as 'Status',\r\nSUM(CASE WHEN SI.status = 'Paid' THEN 1 ELSE 0 END) as 'Billed',\r\nSUM(CASE WHEN SI.status = 'Overdue' OR SI.status= 'Partly Paid' THEN 1 ELSE 0 END) as 'partially'\r\nFROM `tabClient Appointment CT` AS PA\r\nLEFT JOIN `tabSales Invoice` SI\r\non PA.NAME = SI.appointment\r\nWHERE PA.appointment_date >= %(from_date)s \r\nand PA.appointment_date <= %(to_date)s  \r\nand PA.status != 'Cancelled'\r\ngroup by\r\nPA.clinic,\r\nPA.name,\r\nPA.doctor_name,\r\nPA.status) as T\r\ngroup by\r\nT.Status, T.Doctor, T.Status\r\norder by \r\nT.clinic,\r\nT.Doctor,\r\nT.status\r\n\r\n",
 "ref_doctype": "Client Appointment CT",
 "report_name": "Appointment Analytics",
 "report_type": "Query Report",
 "roles": [
  {
   "role": "System Manager"
  }
 ]
}